一、标记和区域

　　所谓区域(region)就是平时我们使用鼠标选中的一段文字，在emacs中用样可以使用鼠标来选择一段文字表示区域，如果使用键盘操作的话需要用一个术语叫标记(mark)，也就是一个基准点，或者说是区域的起点，使用命令C-SPC 用来设定标记，不幸的是这个组合键通常情况是被输入法给截获了，我们得使用C-@来代替，要多按个Shift，操作起来感觉有点别扭。OK，在设定好标记后我们可以让光标移动到任何想去的地方，在光标和标记之间就是选定的区域，emacs里面会高亮显示这个区域，参见下图，注意，这个区域是动态存在的，只要光标位置变了，区域也随着变化，只是其起点永远是那个标记。

学习Emacs系列教程（五）：编辑（2）—— 标记

　　这个时候就可以对选中的区域进行操作了，比如说C-w (kill-region) 删除选中的区域，或者C-x C-u 将所选区域字母改成大写字母，这是个禁用命令需要确认后才能生效。还有个常用的操作是C-x C-x (exchange-point-and-mark)，交换光标和标记，就是说把区域的起点改在光标所在处。取消标记和区域直接使用C-g 就可以了。

　　除了这种手工选择区域之外，emacs还内置了一些快捷的选取方式。像常用的全选就是C-x h ，全选后标记在文档的最后，而光标在文档的最前面。C-x C-p 选择整页，页是由分页符界定的。选取一段使用M-h 。M-@ 从当前位置选到单词尾（中文里的单词是两个标点符号间的文字），重复按这个命令会一直往后选取单词。这四个命令有个共同的特点就是选取的区域标记在最后，光标在最前，这个和常规理解有些区别，记住就是了。

　　在Emacs 23之后还有个新特性叫shift选择（shift selection），故名思意就是用shift键来快速选择区域，通过使用shift键和C-n, C-p之类的组合来选择区域，和常规选择有些区别的是，在shift选择过程中使用了任何非shift组合都会取消当前选择区域。

 

二、标记环

　　标记的一个主要功能是界定区域，此外还有个作用就是记忆一个点供今后使用，在一个buffer里面可以用标记记忆16个点，称为“标记环”，标记环实际是个先进先出的队列。

　　我们使用命令C-@ C-@ 把一个标记加入标记环，这个命令做了两件事，第一次按C-@时标记了一个点（此时已经加入标记环了），第二次按C-@时取消了当前标记的激活状态，我们可以在minibuffer中看到提示Mark deactivated。而命令C-u C-@ 来选择上一个加入标记环的标记，如果选中的标记处于激活状态，它会取消其激活。使用C-u C-@不会删除标记，仅是在标记环中不停的向前跳跃，注意这里我们只可能在当前buffer中的标记间跳跃，不会跑到其它的buffer里面去。

　　如果修改变量set-mark-command-repeat-pop 为 non-nil，在按下C-u C-@后，我们可以就使用C-@在标记环中跳跃了。

　　变量mark-ring-max 表示了一个buffer中标记环中的最大标记数，默认为16。

　　还有变量mark-even-if-nonactive 和标记环相关，当其为nil 时，表示只能使用激活状态的标记，默认为non-nil 。

　　另外在emacs中还存在一个全局标记环，C-@ C-@在把标记加入当前buffer标记环同时，也把标记加入了全局标记环，我们可以用命令C-x C-@ (pop-global-mark)在全局标记环中选择。
